Table of Contents
=================

   * [概述(overview)](#概述overview)
      * [什么是RadonDB?](#什么是radondb)
      * [特性](#特性)
      * [架构](#架构)
      * [概述](#概述)
      * [SQL层](#sql层)
         * [SQL 支持](#sql-支持)
         * [SQL 解析器，执行计划生成器，执行器](#sql-解析器执行计划生成器执行器)
         * [SQL with Transaction](#sql-with-transaction)
      * [事务层](#事务层)
      * [许可证](#许可证)

# 概述(overview)
RadonDB 是一个开源的，基于MySQL的云原生数据库，具有无限的水平扩展和高性能。

## 什么是RadonDB?

RadonDB 是一个基于MySQL的云原生数据库产品，采用分布式集群架构设计，支持无限的横向、容量和性能扩展,支持分布式事务来保证数据强一致性，并把MySQL作为高可用的存储引擎存储数据。RadonDB 兼容MySQL协议，支持自动分表和批量自动化功能，以简化运维和操作工作流程。

## 特性
* **自动分片**
* **审计和日志**
* **并行执行**: 并行查询, 并行DML和并行DDL
* **并行执行表数据校验(checksum)**: 提供和MySQL一样的表数据校验机制
* **分布式事务**: 快照隔离级别
* **分布式Join**: 排序-合并Join，嵌套-循环Join
* **分布式全文搜索**
* **数据库多租户**
* **SQL预编译功能**
* **JSON**

## 架构

## 概述 
RadonDB是基于 MySQL 的新一代分布式关系数据库(MyNewSQL)。它的设计初衷是——创建一个拥有我们的开发人员都想要使用的特性的开源数据库，比如：金融高可用性、大容量数据库、自动水平表切分、可伸缩的和强一致性，本指南详细介绍了 Radon 进程的内部工作原理。



## SQL层

### SQL 支持
在SQL语法级别上，RadonDB 完全兼容 MySQL。



###  SQL 解析器，执行计划生成器，执行器

当你的 SQL 节点通过代理从 mysql 客户端接收 SQL 请求后，RadonDB 开始解析该语句，创建一个查询计划，然后执行该计划。

                                                                    +---------------+
                                                        x---------->|node1_Executor |
                                +--------------------+  x           +---------------+
                                |      SQL Node      |  x
                                |--------------------|  x
    +-------------+             |     sqlparser      |  x           +---------------+
    |    query    |+----------->|--------------------|--x---------->|node2_Executor |
    +-------------+             |  Distributed Plan  |  x           +---------------+
                                +--------------------+  x
                                                        x           +---------------+
                                                        x---------->|node3_Executor |
                                                                    +---------------+



``` 解析 ```

接收到的查询被 sqlparser 解析(需要使用 mysql 支持的语法)，并生成了抽象语法树(AST)。


``` 执行计划 ```

通过这个 AST，RadonDB 开始生成一个 planNodes 树来生成该查询的执行计划。此步骤还包括分析客户机的 SQL 语句与预期的 AST 表达式(包括类型检查)的步骤。

``` 执行器 ```
通过分布式执行计划并行执行存储层中的执行器。

### SQL with Transaction
SQL节点是无状态的，但是为了保证事务的“快照隔离”，它现在处于写多读模式。


## 事务层

``` 分布式事务 ```
RadonDB 提供分布式事务处理能力。如果分布式执行器在不同的存储节点执行，并且其中某个节点执行失败，那么所有的节点都会回滚该事务。这保证了分布式事务的跨节点一致性，并且使数据库处于一致性状态。

``` 隔离等级 ```

隔离等级 RadonDB 实现了一致性级别的 SI (快照隔离，Snapshot Isolation)。只要分布式事务没有提交，或者只有部分分区已经提交，那么其他事务就看不到该操作。

``` SQL 层的事务 ```
 SQL 节点是无状态的，但是为了保证事务“快照隔离”，它现在处于写多读模式。


## 许可证
RadonDB 使用 GPLv3. 许可发行
